<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>বিল ইনভয়েস - {{invoiceNumber}}</title>
  <style>
    @font-face {
      font-family: 'Kalpurush';
      src: url('https://fonts.cdnfonts.com/s/15068/Kalpurush.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Kalpurush', Arial, sans-serif;
      font-size: 12px;
      line-height: 1.6;
      color: #000;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Header with logo */
    .header {
      position: relative;
      padding: 20px;
      border-bottom: 2px solid #000;
      margin-bottom: 20px;
    }

    .header-logo {
      position: absolute;
      top: 10px;
      right: 20px;
      width: 120px;
      height: auto;
    }

    .header-text {
      text-align: left;
      font-family: 'Kalpurush', Arial, sans-serif;
      line-height: 1.8;
      font-size: 11px;
    }

    .header-text p {
      margin: 2px 0;
    }

    .title-center {
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      margin: 15px 0 5px 0;
    }

    .date-range {
      text-align: center;
      font-size: 14px;
      margin-bottom: 20px;
    }

    /* Client details */
    .client-details {
      margin: 20px 0;
      font-size: 12px;
    }

    .client-details p {
      margin: 5px 0;
    }

    /* Space details table */
    .space-details {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      font-size: 11px;
    }

    .space-details th,
    .space-details td {
      border: 1px solid #000;
      padding: 8px;
      text-align: center;
    }

    .space-details th {
      background: #f0f0f0;
      font-weight: bold;
    }

    /* Main billing table */
    .billing-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      font-size: 10px;
    }

    .billing-table th,
    .billing-table td {
      border: 1px solid #000;
      padding: 6px 4px;
      text-align: center;
    }

    .billing-table th {
      background: #f0f0f0;
      font-weight: bold;
      font-size: 9px;
    }

    .billing-table .month-col {
      text-align: left;
      padding-left: 8px;
    }

    .billing-table .amount-col {
      text-align: right;
      padding-right: 8px;
    }

    /* Bank details boxes */
    .bank-details {
      display: flex;
      gap: 20px;
      margin: 30px 0;
    }

    .bank-box {
      flex: 1;
      border: 2px solid #000;
      padding: 15px;
    }

    .bank-box h4 {
      text-align: center;
      margin-bottom: 10px;
      font-weight: bold;
      font-size: 13px;
    }

    .bank-box p {
      margin: 5px 0;
      font-size: 11px;
      line-height: 1.6;
    }

    .bank-box .english {
      margin-top: 10px;
      font-size: 10px;
      color: #333;
    }

    .bottom-instruction {
      text-align: center;
      margin-top: 20px;
      font-weight: bold;
      font-size: 12px;
    }

    .text-center {
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      {{#if logo}}
      <img src="{{logo}}" alt="BHTPA Logo" class="header-logo">
      {{/if}}
      <div class="header-text">
        <p>গণপ্রজাতন্ত্রী বাংলাদেশ সরকার</p>
        <p>বিজ্ঞান ও প্রযুক্তি মন্ত্রণালয়</p>
        <p>বাংলাদেশ হাই-টেক পার্ক কর্তৃপক্ষ</p>
        <p>সফটওয়্যার টেকনোলজি পার্ক, যশোর</p>
        <p>ফোনঃ ০৪২১-৬১৭১৬, মোবাইলঃ ০১৩২২৮৮৭৭৮৩</p>
        <p>ই-মেইলঃ stp.jashore@bhtpa.gov.bd</p>
        <p>ওয়েবসাইটঃ www.bhtpa.gov.bd</p>
      </div>
    </div>

    <!-- Title and Date Range -->
    <div class="title-center">বিল ইনভয়েস (Bill Invoice)</div>
    {{#if arrears}}
    <div class="date-range">{{formatDateRange arrears}}</div>
    {{/if}}

    <!-- Client Details -->
    <div class="client-details">
      <p><strong>প্রতিষ্ঠানের নামঃ</strong> {{client.companyName}}</p>
      <p><strong>ঠিকানাঃ</strong> {{client.address}}</p>
    </div>

    <!-- Space Details Table -->
    <table class="space-details">
      <thead>
        <tr>
          <th>মোট স্থান<br>Total Space</th>
          <th>ব্যবহারযোগ্য স্থান<br>Usable Space</th>
          <th>কমন স্থান<br>Common Space</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{toBengaliDigits contract.spaceInSqft}} বর্গফুট</td>
          <td>{{toBengaliDigits contract.spaceInSqft}} বর্গফুট</td>
          <td>০ বর্গফুট</td>
        </tr>
      </tbody>
    </table>

    <!-- Main Billing Table -->
    <table class="billing-table">
      <thead>
        <tr>
          <th rowspan="2">মাসের নাম<br>Month Name</th>
          <th colspan="3">হার (Rate)</th>
          <th colspan="3">পরিমাণ (Amount)</th>
          <th rowspan="2">পরিশোধিত বিল<br>Paid Bill</th>
          <th rowspan="2">বকেয়া বিল<br>Due Bill</th>
        </tr>
        <tr>
          <th>হার (ক)<br>Rate Ka</th>
          <th>হার (খ)<br>Rate Kha</th>
          <th>মোট হার<br>(ক+খ)</th>
          <th>ভাড়ার পরিমাণ (ক)<br>Rent Amount</th>
          <th>সার্ভিস চার্জ (খ)<br>Service Charge</th>
          <th>মোট বিল<br>Total Bill</th>
        </tr>
      </thead>
      <tbody>
        {{#each arrears}}
        <tr>
          <td class="month-col">{{formatMonthBengaliShort billMonth}}, {{formatYearBengali billMonth}}</td>
          <td class="amount-col">{{formatBengaliNumber ../contract.rentRate}}</td>
          <td class="amount-col">{{formatBengaliNumber ../contract.serviceChargeRate}}</td>
          <td class="amount-col">{{formatBengaliNumber (add ../contract.rentRate ../contract.serviceChargeRate)}}</td>
          <td class="amount-col">{{formatBengaliNumber (subtract monthlyTotal (subtract monthlyTotal paidAmount))}}</td>
          <td class="amount-col">{{formatBengaliNumber (subtract monthlyTotal paidAmount)}}</td>
          <td class="amount-col">{{formatBengaliNumber monthlyTotal}}</td>
          <td class="amount-col">{{formatBengaliNumber paidAmount}}</td>
          <td class="amount-col">{{formatBengaliNumber rollingDue}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>

    <!-- Bank Details -->
    <div class="bank-details">
      <!-- Left Box - Rent Account -->
      <div class="bank-box">
        <h4>স্পেস ভাড়া (Space Rent)</h4>
        <p><strong>একাউন্ট নামঃ</strong> ব্যবস্থাপনা পরিচালক সফটওয়্যার টেকনোলজি পার্ক, যশোর (ভাড়া)</p>
        <p><strong>একাউন্ট নংঃ</strong> ০১০০২৭৪৮৫৫৯৮৮</p>
        <p><strong>ব্যাংকঃ</strong> জনতা ব্যাংক পিএলসি</p>
        <div class="english">
          <p><strong>Account Name:</strong> Managing Director Software Technology Park, Jashore (Rent)</p>
          <p><strong>Account No:</strong> 0100274855988</p>
          <p><strong>Bank:</strong> Janata Bank PLC</p>
        </div>
      </div>

      <!-- Right Box - Service Charge Account -->
      <div class="bank-box">
        <h4>সার্ভিস চার্জ (Service Charge)</h4>
        <p><strong>একাউন্ট নামঃ</strong> ব্যবস্থাপনা পরিচালক সফটওয়্যার টেকনোলজি পার্ক, যশোর (সার্ভিস চার্জ)</p>
        <p><strong>একাউন্ট নংঃ</strong> ০১০০২৭৪৮৫১৪৩৫</p>
        <p><strong>ব্যাংকঃ</strong> জনতা ব্যাংক পিএলসি</p>
        <div class="english">
          <p><strong>Account Name:</strong> Managing Director Software Technology Park, Jashore (Service Charge)</p>
          <p><strong>Account No:</strong> 0100274851435</p>
          <p><strong>Bank:</strong> Janata Bank PLC</p>
        </div>
      </div>
    </div>

    <!-- Bottom Instruction -->
    <div class="bottom-instruction">
      উপরোক্ত একাউন্টে জমা দেওয়ার জন্য অনুরোধ করা হলো।
    </div>
  </div>
</body>
</html>
